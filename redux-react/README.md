# Redux

## Redux란?

- 리덕스는 리액트 생태계에서 가장 사용률이 높은 상태관리 라이브러리이다. 리덕스를 사용하면 컴포넌트들의 상태 관련 로직들을 다른 파일들로 분리시켜서 더욱 효율적으로 관리 할 수 있으며 글로벌 상태 관리도 손쉽게 할 수 있다.
- Context API를 사용해도 글로벌 상태 관리를 할 수 있고 관리 로직을 분리 할 수 있다. 특히, Context API와 useReducer HOOK을 사용해서 개발하는 흐름은 리덕스를 사용하는 것과 매우 개발 방식이 유사하다.

## 미들웨어

- 리덕스에는 미들웨어 라는 개념이 존재한다. 리덕스로 상태 관리를 할 때에는 useReducer를 사용해볼때 접했던 개념인 리듀서 함수를 사용한다. 리덕스의 미들웨어를 사용하면 액션 객체가 리듀서에서 처리되기 전에 우릭 원하는 작업들을 수행할 수 있다.
    + 특정 조건에 따라 액션이 무시되게 만들 수 있다.
    + 액션을 콘솔에 출력하거나, 서버쪽에 로깅할 수 있다.
    + 액션이 디스패치 됐을 때 이를 수정해서 리듀서에게 전달되도록 할 수 있다.
    + 특정 액션이 발생했을 때 이에 기반하여 다른 액션이 발생되도록 할 수 있다.
    + 특정 액션이 발생했을 떼 자바스크립트 합수를 실행시킬 수 있다.
- 미들웨어는 주로 비동기 작업을 처리 할 때 많이 사용된다.
- useReducer Hook에서도 외부 라이브러리를 사용하면 미들웨어를 사용 할 수도 있습니다. 다만, 자주 사용되는 방식은 아니다.

## 유용한 함수와, Hooks

- Context API와 useReducer를 사용 할 때에는 Context도 새로 만들고, Context의 Provider 설정도 하고 각 Context를 편하게 사용하기 위해 전용 커스텀 Hook을 따로 만들어서 사용하기도 했다. 리덕스에서는 이와 비슷한 작업을 편리하게 해줄 수 있는 여러 기능들이 존재한다. 
- connect 함수를 사용하면 리덕스의 상태 또는 액션 생성 함수를 컴포넌트의 props로 받아올 수 있으며, useSelector, useDispatch, useStore과 같은 Hooks를 사용하면 돈쉽게 상태를 조회하거나 액션을 디스패치 할 수도 있다.
- connect 함수와 useSelector 함수에는 내부적으로 최적화가 잘 이루어져있어서 실제 상태가 바뀔때만 컴포넌트가 리렌더링 됩니다. 반면에 Context API를 사용할 때에는 그러한 최적화가 자동으로 이루어져있지 않기 때문에 Context가 지니고 있는 상태가 바뀌면 해당 Context의 Provider내부 컴포넌트들이 모두 리렌더링 된다.

## 하나의 커다란 상태

- Context API를 사용해서 글로벌 상태를 관리 할 때에는 일반적으로 기능별로 Context를 만들어서 사용하는 것이 일반적이다. 반면 리덕스에서는 모든 글로벌 상태를 하나의 커다란 상태 객체에 넣어서 사용하는 것이 필수적이다. 떄문에 매번 Context를 새로 만들지 않아도 된다.

## 리덕스는 언제 써야하나?

1. 프로젝트 규모가 큰가?
    +   YES: Redux
    +   No: Context API
2. 비동기 작업울 자주 하게 되는가?
    +   YES: Redux
    +   No: Context API
3. 리덕스를 배워보니 사용하기 편한가?
    +   YES: Redux
    +   No: Context API